---
title: "p8105_hw2_yl4923"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(readxl)
```

## Problem 1
1.1 Clean Mr.Trash Wheel data
```{r import and clean data}
trash_wheel = read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N535") %>% 
  janitor::clean_names() %>%
  drop_na(dumpster) %>% 
  mutate(sports_balls = trunc(sports_balls))
```

1.2 Clean and joint precipitation datasets
```{r binding precipitation}
precip_2018 = read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",sheet = "2018 Precipitation",range = "A2:B14") %>%
  mutate(year = "2018") %>% 
  janitor::clean_names() %>%
  drop_na(total) 

precip_2019 = read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",sheet = "2019 Precipitation",range = "A2:B14") %>%
  mutate(year = "2019") %>% 
  janitor::clean_names() %>%
  drop_na(total) 
   
precip_df = bind_rows(precip_2019, precip_2018) %>%
  mutate(month = month.name[month]) %>%
  select(year,month,total)
```
Trash Wheel data shows the types of trash and their corresponding amounts collected by dumpsters from _2014_ to _2020_, including `r nrow(trash_wheel)` observations. Such as for one of the trashes, sports balls, the median of it in tons collected in 2019 is *`r median(pull(filter(trash_wheel, year == 2019),sports_balls))`*. Over years, Mr. Trash Wheel collects *`r sum(trash_wheel$weight_tons)`* tons of trash.

For precipitation data from 2019 and 2018,we are able to identify the original source of the data by creating _year_ as a new variable.The precipitation data has `r nrow(precip_df)` rows and `r ncol(precip_df)` columns. The total precipitation in 2018 can be derived *`r sum(pull(filter(precip_df, year == 2018)))`*.

